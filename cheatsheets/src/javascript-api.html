<!DOCTYPE html>
<html>
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="description" content="Canoo Engineering AG: Your first address for web front-end application development and language analysis">
    <meta name="keywords" content="web applications,information retrieval,Rich Internet Applications,RIA,AJAX,java,Web security,ultra light client,web enabling,software development">
    <title>Canoo &ndash; Delivering End-User Happiness &ndash; JavaScript API Cheatsheet</title>
    <link href="../../resources/bootstrap/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link href="../../resources/canoo.css" rel="stylesheet">

    <script type="text/javascript" src="apidata.js" ></script>
    <script type="text/javascript">

        function writeApi(javascriptApiData) {

            function createAnchor(link, text, name) {
                var anchor = document.createElement('A');
                anchor.setAttribute('href', link);
                anchor.innerHTML = text;
                if (name !== undefined) {
                    anchor.setAttribute('name', name);
                }
                return anchor;
            }

            function writeObject(object, contentNode) {
                var name = object.name,
                    link = object.link; // array

                var wrapper = document.createElement('DIV');
                wrapper.style.borderLeft = '1px solid #eee';
                wrapper.style.borderRight = '1px solid #eee';
                contentNode.appendChild(wrapper);

                var h4 = document.createElement('h4');
                wrapper.appendChild(h4);

                var anchor = createAnchor(link, name + ' ', name);
                h4.appendChild(anchor);

                var backArrow = createAnchor('#', '&uarr;');
                h4.appendChild(backArrow);

                var table = document.createElement('TABLE');
                table.setAttribute('class', 'table table-bordered');
                wrapper.appendChild(table);

                var tbody = document.createElement('TBODY');
                table.appendChild(tbody);

                object.api.forEach(function(element) {
                    writeMethod(element, tbody);
                });
            }

            function writeTOC(javascriptApiData, contentNode) {


                var holder = document.createElement("DIV");
                contentNode.appendChild(holder);
                holder.style.textAlign = 'center';

                javascriptApiData.forEach(function(e, index, array) {
                    var anchor = createAnchor('#' + encodeURIComponent(e.name), e.name);
                    holder.appendChild(anchor);
                    if (index != array.length - 1) {
                        holder.appendChild(document.createTextNode(' - '));
                    }
                });
            }

            function writeMethod(method, table) {

                var tr = document.createElement('TR');
                table.appendChild(tr);

                var td = document.createElement('TD');
                tr.appendChild(td);

                var anchor = createAnchor(method.link, method.name);
                td.appendChild(anchor);

                td.appendChild(document.createTextNode(method.parms + " - " + method.desc));
            }

            var contentNode = document.getElementById('content');
            writeTOC(javascriptApiData, contentNode);
            javascriptApiData.forEach(function(element){
                writeObject(element, contentNode);
            });
        }

    </script>
</head>
<body>

<div id="header">
    <div id="static-service-html">
        <p class="util-links">
            <a title="Follow Canoo on twitter" href="http://www.twitter.com/canoo" id="twitter">Twitter</a> |
            <a title="Contact Canoo" href="http://www.canoo.com/service/contact">Contact</a> |
            <a title="Canoo Website Imprint" href="http://www.canoo.com/service/imprint">Imprint</a>
        </p>
    </div>
    <div id="static-header-html">
        <div id="logo"><a title="Canoo, your provider for business web solutions" href="http://www.canoo.com">Canoo</a></div>
    </div>
</div>

<h3 style="text-align: center">JavaScript API Cheatsheet</h3>

<div id="content">
    <script type="text/javascript">
        writeApi(javascriptApiData);
    </script>
</div>

</body>
</html>